"use strict";(self.webpackChunkstock_analysis=self.webpackChunkstock_analysis||[]).push([[86],{9086:(x,d,c)=>{c.r(d),c.d(d,{ClosepriceModule:()=>A});var i=c(6895),n=c(433),h=c(529),s=c(5536),m=c(1334),p=c(7834),u=c(7614),t=c(1571);function _(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"c-row")(1,"c-col",1)(2,"c-card",2)(3,"c-card-header",3),t._uU(4,"Enter Inputs"),t.qZA(),t.TgZ(5,"c-card-header"),t._uU(6),t.qZA(),t.TgZ(7,"c-card-body")(8,"form",4)(9,"div",5)(10,"label",6),t._uU(11,"Symbol"),t.qZA(),t._UZ(12,"input",7),t.qZA(),t.TgZ(13,"div",5)(14,"label",8),t._uU(15,"Start Date (YYYY-MM-DD)"),t.qZA(),t._UZ(16,"input",9),t.qZA(),t.TgZ(17,"div",5)(18,"label",10),t._uU(19,"End Date (YYYY-MM-DD)"),t.qZA(),t._UZ(20,"input",11),t.qZA(),t.TgZ(21,"div",5)(22,"button",12),t.NdJ("click",function(){t.CHM(e);const l=t.oxw();return t.KtG(l.formSubmit())}),t._uU(23,"Get Results"),t.qZA()()()()()()()}if(2&a){const e=t.oxw();t.xp6(6),t.AsE("Get Close Prices For A Certain Period Of Time. Data Available for Dates ",e.start_date," to ",e.end_date,"."),t.xp6(6),t.Q6J("formControl",e.symbol),t.xp6(4),t.Q6J("formControl",e.startdate),t.xp6(4),t.Q6J("formControl",e.enddate)}}function f(a,r){if(1&a&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA()()),2&a){const e=r.$implicit;t.xp6(2),t.Oqu(e.symbol),t.xp6(2),t.Oqu(e.date),t.xp6(2),t.Oqu(e.close)}}function C(a,r){1&a&&(t.TgZ(0,"c-card-header",3),t._uU(1,"Chart"),t.qZA())}function b(a,r){if(1&a&&(t.TgZ(0,"c-card-body"),t._UZ(1,"c-chart",18),t.qZA()),2&a){const e=t.oxw(2);t.xp6(1),t.Q6J("data",e.chartLineData)}}function g(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"c-row")(1,"c-col",1)(2,"c-card",2)(3,"c-card-header",3),t._uU(4,"Stocks Analysis"),t.qZA(),t.TgZ(5,"c-card-header")(6,"b"),t._uU(7),t.qZA()(),t.TgZ(8,"c-card-body")(9,"table",13)(10,"thead")(11,"tr")(12,"th",14),t._uU(13,"SYMBOL"),t.qZA(),t.TgZ(14,"th",14),t._uU(15,"DATE"),t.qZA(),t.TgZ(16,"th",14),t._uU(17,"CLOSE PRICE"),t.qZA()()(),t.TgZ(18,"tbody"),t.YNc(19,f,7,3,"tr",15),t.qZA()()(),t.YNc(20,C,2,0,"c-card-header",16),t.YNc(21,b,2,1,"c-card-body",0),t.TgZ(22,"c-card-header")(23,"button",17),t.NdJ("click",function(){t.CHM(e);const l=t.oxw();return t.KtG(l.resetData())}),t._uU(24," Enter Another Data "),t.qZA()()()()()}if(2&a){const e=t.oxw();t.xp6(7),t.lnq("Selected Stock: ",e.data_arr[0],", Start Date: ",e.data_arr[1],", End Date: ",e.data_arr[2]," "),t.xp6(12),t.Q6J("ngForOf",e.stcks),t.xp6(1),t.Q6J("ngIf",e.chartData),t.xp6(1),t.Q6J("ngIf",e.chartData)}}const Z=[{path:"",component:(()=>{class a{constructor(e){this.http=e,this.dates=[],this.stcks=[],this.start_date="",this.end_date="",this.not_data_sent=!0,this.data_sent=!1,this.symbol=new n.NI(""),this.startdate=new n.NI(""),this.enddate=new n.NI(""),this.data_arr=[],this.chartLineData={labels:Array(),datasets:[{label:"",backgroundColor:"rgba(220, 220, 220, 0.2)",borderColor:"rgba(100, 100, 100, 1)",pointBackgroundColor:"rgba(220, 220, 220, 1)",pointBorderColor:"rgba(150, 150, 150, 1)",data:Array()}]},this.chartLineOptions={maintainAspectRatio:!1},this.chartData=!1}ngOnInit(){this.getDates()}getDates(){this.http.get("http://localhost:3000/stocks/dates").subscribe(e=>{this.dates=e.map(o=>o.date.split(" ")[0]),this.dates.sort(),this.start_date=this.dates[0],this.end_date=this.dates[this.dates.length-1]})}formSubmit(){this.data_arr=[this.symbol.value,this.startdate.value,this.enddate.value],this.http.get(`http://localhost:3000/stocks/${this.symbol.value}/${this.startdate.value}/${this.enddate.value}`).subscribe(e=>{this.stcks=e.map(o=>({...o,date:o.date.split(" ")[0]})),this.symbol.reset(),this.startdate.reset(),this.enddate.reset(),this.chartLineData.labels=this.stcks.map(o=>o.date),this.chartLineData.datasets[0].data=this.stcks.map(o=>o.close),this.chartLineData.datasets[0].label=this.data_arr[0],this.chartData=!0}),this.not_data_sent=!1,this.data_sent=!0}resetData(){this.symbol.reset(),this.startdate.reset(),this.enddate.reset(),this.not_data_sent=!0,this.data_sent=!1,this.chartData=!1,this.stcks=[],this.chartLineData.labels=Array(),this.chartLineData.datasets[0].data=Array(),this.chartLineData.datasets[0].label=""}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(h.eN))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-closeprice"]],decls:2,vars:2,consts:[[4,"ngIf"],["xs",""],[1,"mb-4"],[1,"h4"],["action",""],[1,"mb-3"],["for","symbol",1,"form-label"],["type","text","id","symbol","placeholder","5PAISA",1,"form-control",3,"formControl"],["for","startdate",1,"form-label"],["type","text","id","startdate","placeholder","2021-01-01",1,"form-control",3,"formControl"],["for","enddate",1,"form-label"],["type","text","id","enddate","placeholder","2021-01-10",1,"form-control",3,"formControl"],["type","submit",1,"btn","btn-primary","mb-3",3,"click"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],["class","h4",4,"ngIf"],["cButton","",1,"primary",3,"click"],["type","line",3,"data"]],template:function(e,o){1&e&&(t.YNc(0,_,24,5,"c-row",0),t.YNc(1,g,25,6,"c-row",0)),2&e&&(t.Q6J("ngIf",o.not_data_sent),t.xp6(1),t.Q6J("ngIf",o.data_sent))},dependencies:[s.AkF,s.yue,s.nkx,i.sg,i.O5,s.iok,s.Yp0,n._Y,n.Fj,n.JJ,n.JL,n.oH,s.Hq3,p.d]}),a})(),data:{title:$localize`Closeprice`}}];let y=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[u.Bz.forChild(Z),u.Bz]}),a})(),A=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[y,s.dTQ,s.dGk,m.QX,s.P4_,i.ez,s.zE6,s.qek,n.UX,s.hJ1,s.ejP,s.hJ1,s.ga2,p.N,s.FxY,s.U$I,h.JF]}),a})()}}]);